<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2016 Cisco and/or its affiliates.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at:
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!-- vi: set et smarttab sw=4 tabstop=4: -->

<snapshot>
    <required-capabilities>
        <capability>urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg?module=vpp-jvpp-cfg&amp;revision=2016-04-06</capability>
        <capability>urn:honeycomb:params:xml:ns:yang:v3po2vpp?module=v3po2vpp&amp;revision=2016-04-06</capability>
        <capability>urn:honeycomb:params:xml:ns:yang:data:api?module=data-api&amp;revision=2016-04-11</capability>
        <capability>urn:honeycomb:params:xml:ns:yang:vpp:util?module=vpp-util&amp;revision=2016-04-06</capability>
        <capability>
            urn:opendaylight:params:xml:ns:yang:controller:threadpool:impl:scheduled?module=threadpool-impl-scheduled&amp;revision=2013-12-01
        </capability>
        <capability>urn:honeycomb:params:xml:ns:yang:notification:impl?module=notification-impl&amp;revision=2016-06-01</capability>
    </required-capabilities>
    <configuration>

        <data xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
            <modules xmlns="urn:opendaylight:params:xml:ns:yang:controller:config">
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context-impl</type>
                    <name>interface-context</name>
                    <artificial-name-prefix>interface-</artificial-name-prefix>
                </module>
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context-impl</type>
                    <name>bridge-domain-context</name>
                    <artificial-name-prefix>bridge-domain-</artificial-name-prefix>
                </module>
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context-impl</type>
                    <name>classify-table-context</name>
                    <artificial-name-prefix>classify-table-</artificial-name-prefix>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:vpp-state-honeycomb-reader</type>
                    <name>vpp-state-honeycomb-reader</name>
                    <vpp-jvpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp>
                    <interface-context-vpp-state>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>interface-context</name>
                    </interface-context-vpp-state>
                    <bridge-domain-context-vpp-state>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>bridge-domain-context</name>
                    </bridge-domain-context-vpp-state>
                    <!-- Reuse netconf's scheduled executor for keepalives -->
                    <keepalive-executor>
                        <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:threadpool">
                            prefix:threadpool
                        </type>
                        <name>global-netconf-ssh-scheduled-executor</name>
                    </keepalive-executor>
                </module>

                <!-- Interface notification producer-->
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:vpp-interface-notification-producer</type>
                    <name>vpp-interface-notification-producer</name>
                    <vpp-jvpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp>
                    <interface-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>interface-context</name>
                    </interface-context>
                    <realtime-mapping-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-mapping-context</type>
                        <name>realtime-mapping-context</name>
                    </realtime-mapping-context>
                </module>
                <!-- Register to HC notification collector-->
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:notification:impl">prefix:honeycomb-notification-manager</type>
                    <name>honeycomb-notification-manager</name>
                    <notification-producers>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:notification:api">prefix:honeycomb-notification-producer</type>
                        <name>vpp-interface-notification-producer</name>
                    </notification-producers>
                </module>
                <!-- /Interface notification producer -->

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:interfaces-state-honeycomb-reader</type>
                    <name>interfaces-state-honeycomb-reader</name>
                    <vpp-jvpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp>
                    <interface-context-ifc-state>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>interface-context</name>
                    </interface-context-ifc-state>
                    <bridge-domain-context-ifc-state>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>bridge-domain-context</name>
                    </bridge-domain-context-ifc-state>
                    <classify-table-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>classify-table-context</name>
                    </classify-table-context>
                </module>
                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:vpp-classifier-state-honeycomb-reader</type>
                    <name>vpp-classifier-state-honeycomb-reader</name>
                    <vpp-jvpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp>
                    <classify-table-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>classify-table-context</name>
                    </classify-table-context>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:vpp-honeycomb-writer</type>
                    <name>vpp-honeycomb-writer</name>
                    <vpp-jvpp-writer>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp-writer>
                    <interface-context-vpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>interface-context</name>
                    </interface-context-vpp>
                    <bridge-domain-context-vpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>bridge-domain-context</name>
                    </bridge-domain-context-vpp>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:interfaces-honeycomb-writer</type>
                    <name>interfaces-honeycomb-writer</name>
                    <vpp-jvpp-ifc>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp-ifc>
                    <interface-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>interface-context</name>
                    </interface-context>
                    <bridge-domain-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>bridge-domain-context</name>
                    </bridge-domain-context>
                    <classify-table-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>classify-table-context</name>
                    </classify-table-context>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:v3po2vpp">prefix:vpp-classifier-honeycomb-writer</type>
                    <name>vpp-classifier-honeycomb-writer</name>
                    <vpp-jvpp>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:jvpp:cfg">prefix:vpp-jvpp</type>
                        <name>vpp-jvpp</name>
                    </vpp-jvpp>
                    <classify-table-context>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                        <name>classify-table-context</name>
                    </classify-table-context>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:utils">prefix:delegating-reader-registry</type>
                    <name>read-registry</name>
                    <reader-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-reader-factory</type>
                        <name>vpp-state-honeycomb-reader</name>
                    </reader-factory>
                    <reader-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-reader-factory</type>
                        <name>interfaces-state-honeycomb-reader</name>
                    </reader-factory>
                    <reader-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-reader-factory</type>
                        <name>vpp-classifier-state-honeycomb-reader</name>
                    </reader-factory>
                </module>

                <module>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:utils">prefix:delegating-writer-registry</type>
                    <name>write-registry</name>
                    <writer-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-writer-factory</type>
                        <name>vpp-honeycomb-writer</name>
                    </writer-factory>
                    <writer-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-writer-factory</type>
                        <name>interfaces-honeycomb-writer</name>
                    </writer-factory>
                    <writer-factory>
                        <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-writer-factory</type>
                        <name>vpp-classifier-honeycomb-writer</name>
                    </writer-factory>
                </module>
            </modules>

            <services xmlns="urn:opendaylight:params:xml:ns:yang:controller:config">
                <service>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-reader-factory</type>
                    <instance>
                        <name>vpp-state-honeycomb-reader</name>
                        <provider>/modules/module[type='vpp-state-honeycomb-reader'][name='vpp-state-honeycomb-reader']
                        </provider>
                    </instance>
                    <instance>
                        <name>interfaces-state-honeycomb-reader</name>
                        <provider>/modules/module[type='interfaces-state-honeycomb-reader'][name='interfaces-state-honeycomb-reader']</provider>
                    </instance>
                    <instance>
                        <name>vpp-classifier-state-honeycomb-reader</name>
                        <provider>/modules/module[type='vpp-classifier-state-honeycomb-reader'][name='vpp-classifier-state-honeycomb-reader']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:notification:api">prefix:honeycomb-notification-producer</type>
                    <instance>
                        <name>vpp-interface-notification-producer</name>
                        <provider>/modules/module[type='vpp-interface-notification-producer'][name='vpp-interface-notification-producer']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:vpp:util">prefix:naming-context</type>
                    <instance>
                        <name>interface-context</name>
                        <provider>/modules/module[type='naming-context-impl'][name='interface-context']</provider>
                    </instance>
                    <instance>
                        <name>bridge-domain-context</name>
                        <provider>/modules/module[type='naming-context-impl'][name='bridge-domain-context']</provider>
                    </instance>
                    <instance>
                        <name>classify-table-context</name>
                        <provider>/modules/module[type='naming-context-impl'][name='classify-table-context']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:prefix="urn:honeycomb:params:xml:ns:yang:translate:api">prefix:honeycomb-writer-factory</type>
                    <instance>
                        <name>vpp-honeycomb-writer</name>
                        <provider>/modules/module[type='vpp-honeycomb-writer'][name='vpp-honeycomb-writer']
                        </provider>
                    </instance>
                    <instance>
                        <name>interfaces-honeycomb-writer</name>
                        <provider>/modules/module[type='interfaces-honeycomb-writer'][name='interfaces-honeycomb-writer']
                        </provider>
                    </instance>
                    <instance>
                        <name>vpp-classifier-honeycomb-writer</name>
                        <provider>/modules/module[type='vpp-classifier-honeycomb-writer'][name='vpp-classifier-honeycomb-writer']
                        </provider>
                    </instance>
                </service>
            </services>
        </data>
    </configuration>
</snapshot>
